<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Header - The Snack Smack</title>

    <style>
      /* ===== RESET & BASE STYLES ===== */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      html {
        box-sizing: border-box;
        font-size: 62.5%; /* 10px base */
      }

      body {
        margin: 0;
        padding: 0;
        font-family: Assistant, sans-serif;
        font-size: 1.6rem;
        line-height: 1.6;
        color: rgba(18, 18, 18, 0.75);
        background-color: rgb(255, 255, 255);
        overflow-x: hidden;
      }

      /* ===== CSS VARIABLES ===== */
      :root {
        --color-foreground: 18, 18, 18;
        --color-background: 255, 255, 255;
        --color-button: 18, 18, 18;
        --color-button-text: 255, 255, 255;
        --font-body-weight-bold: 700;
        --page-width: 120rem;
      }

      .color-scheme-1 {
        --gradient-background: #ffffff;
      }

      .color-scheme-3 {
        --gradient-background: #242833;
        --color-foreground: 255, 255, 255;
      }

      .gradient {
        background: var(--gradient-background);
      }

      /* ===== HEADER DRAWER ===== */
      header-drawer {
        justify-self: start;
        margin-left: -1.2rem;
      }

      @media screen and (min-width: 990px) {
        header-drawer {
          display: none;
        }
      }

      .menu-drawer-container {
        display: flex;
      }

      /* ===== LIST MENU ===== */
      .list-menu {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .list-menu--inline {
        display: inline-flex;
        flex-wrap: wrap;
      }

      .list-menu__item {
        display: flex;
        align-items: center;
      }

      /* ===== HEADER STYLES ===== */
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 2rem;
        padding: 0px 3rem;
        min-height: 6rem;
      }

      @media screen and (min-width: 990px) {
        .header {
          min-height: 8rem;
          padding-top: 0px;
          padding-bottom: 0px;
        }
      }

      .header-wrapper {
        background: linear-gradient(180deg, #ffffff 0%, #ffffff 100%);
      }

      .header-wrapper--border-bottom {
        border-bottom: 0.1rem solid rgba(var(--color-foreground), 0.08);
      }

      sticky-header {
        display: block;
      }

      /* ===== HEADER INLINE MENU ===== */
      .header__inline-menu {
        display: none;
        flex: 1;
      }

      @media screen and (min-width: 990px) {
        .header__inline-menu {
          display: block;
        }
      }

      .header__menu-item {
        text-decoration: none;
        color: rgba(var(--color-foreground), 0.75);
        padding: 1rem;
        display: inline-block;
      }

      .header__active-menu-item {
        font-weight: var(--font-body-weight-bold);
      }

      /* ===== HEADER ICONS ===== */
      .header__icons {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .header__icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem;
        cursor: pointer;
        text-decoration: none;
        color: rgba(var(--color-foreground), 0.75);
      }

      .header__icon .icon {
        width: 2.6rem;
        height: 2.6rem;
      }

      /* Ensure account and cart use the same visible size */
      .header__icon--account .icon,
      .header__icon--cart .icon {
        width: 2.6rem;
        height: 2.6rem;
      }

      @media screen and (max-width: 749px) {
        .header__icon.header__icon--account.small-hide {
          display: inline-flex !important;
        }
      }

      /* ===== HEADER LOGO ===== */
      .header__heading-link {
        text-decoration: none;
        display: flex;
        align-items: center;
      }

      .header__heading-logo-wrapper {
        display: flex;
        align-items: center;
      }

      .header__heading-logo {
        max-width: 100%;
        height: auto;
        display: block;
      }

      /* ===== ACCOUNT & CART ICONS ===== */
      account-icon {
        display: inline-flex;
      }

      .svg-wrapper {
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .cart-count-bubble {
        position: absolute;
        top: -0.5rem;
        right: -0.5rem;
        background-color: rgb(var(--color-button));
        color: rgb(var(--color-button-text));
        border-radius: 50%;
        min-width: 1.8rem;
        height: 1.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        font-weight: var(--font-body-weight-bold);
        padding: 0.2rem;
      }

      .header__icon--cart {
        position: relative;
      }

      /* ===== MENU DRAWER ===== */
      .menu-drawer {
        position: fixed;
        top: 0;
        left: -100%;
        width: 80%;
        max-width: 40rem;
        height: 100vh;
        z-index: 1000;
        transition: left 0.3s ease;
        overflow-y: auto;
        color: rgba(255, 255, 255, 0.75);
      }

      details[open] .menu-drawer {
        left: 0;
      }

      .menu-drawer__inner-container {
        padding: 2rem;
      }

      .menu-drawer__menu-item {
        display: block;
        padding: 1.2rem 0;
        text-decoration: none;
        color: rgba(255, 255, 255, 0.75);
        font-size: 1.6rem;
        border-bottom: 0.1rem solid rgba(255, 255, 255, 0.08);
      }

      .menu-drawer__menu-item--active {
        font-weight: var(--font-body-weight-bold);
      }

      .motion-reduce {
        transition: none !important;
      }

      /* ===== UTILITY CLASSES ===== */
      .visually-hidden {
        position: absolute !important;
        overflow: hidden;
        clip: rect(0 0 0 0);
        height: 1px;
        width: 1px;
        margin: -1px;
        padding: 0;
        border: 0;
      }

      .small-hide {
        display: none;
      }

      @media screen and (min-width: 750px) {
        .small-hide {
          display: block;
        }
      }

      .page-width {
        max-width: var(--page-width);
        margin: 0 auto;
        padding: 0 1.5rem;
      }

      @media screen and (min-width: 750px) {
        .page-width {
          padding: 0 5rem;
        }
      }

      /* ===== ICON STYLES ===== */
      .icon {
        display: inline-block;
        vertical-align: middle;
        fill: currentColor;
      }

      /* ===== LINK STYLES ===== */
      .link {
        cursor: pointer;
        color: rgba(var(--color-foreground), 0.75);
      }

      .link--text {
        text-decoration: none;
      }

      .focus-inset:focus {
        outline: 0.2rem solid rgba(var(--color-foreground), 0.5);
        outline-offset: 0.3rem;
      }

      /* ===== DETAILS/SUMMARY RESET ===== */
      details summary {
        cursor: pointer;
        list-style: none;
      }

      details summary::-webkit-details-marker {
        display: none;
      }

      .header-logout-link {
        color: #c33;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <sticky-header
      data-sticky-type="on-scroll-up"
      class="header-wrapper color-scheme-1 gradient header-wrapper--border-bottom"
    >
      <header
        class="header header--top-left header--mobile-left page-width header--has-menu header--has-account"
      >
        <header-drawer data-breakpoint="tablet">
          <details
            id="Details-menu-drawer-container"
            class="menu-drawer-container"
          >
            <summary
              class="header__icon header__icon--menu header__icon--summary link focus-inset"
              aria-label="Menu"
              role="button"
              aria-expanded="false"
              aria-controls="menu-drawer"
            >
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  class="icon icon-hamburger"
                  viewBox="0 0 18 16"
                >
                  <path
                    fill="currentColor"
                    d="M1 .5a.5.5 0 1 0 0 1h15.71a.5.5 0 0 0 0-1zM.5 8a.5.5 0 0 1 .5-.5h15.71a.5.5 0 0 1 0 1H1A.5.5 0 0 1 .5 8m0 7a.5.5 0 0 1 .5-.5h15.71a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5"
                  ></path>
                </svg>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  class="icon icon-close"
                  viewBox="0 0 18 17"
                >
                  <path
                    fill="currentColor"
                    d="M.865 15.978a.5.5 0 0 0 .707.707l7.433-7.431 7.579 7.282a.501.501 0 0 0 .846-.37.5.5 0 0 0-.153-.351L9.712 8.546l7.417-7.416a.5.5 0 1 0-.707-.708L8.991 7.853 1.413.573a.5.5 0 1 0-.693.72l7.563 7.268z"
                  ></path>
                </svg>
              </span>
            </summary>
            <div
              id="menu-drawer"
              class="gradient menu-drawer motion-reduce color-scheme-3"
            >
              <div class="menu-drawer__inner-container">
                <div class="menu-drawer__navigation-container">
                  <nav class="menu-drawer__navigation">
                    <ul
                      class="menu-drawer__menu has-submenu list-menu"
                      role="list"
                    >
                      <li>
                        <a
                          id="HeaderDrawer-all-products"
                          href="/index.html"
                          class="menu-drawer__menu-item list-menu__item link link--text focus-inset menu-drawer__menu-item--active"
                          aria-current="page"
                          >All products</a
                      </li>
                      <li>
                        <a
                          id="HeaderDrawer-about-us"
                          href="about-us.html"
                          class="menu-drawer__menu-item list-menu__item link link--text focus-inset menu-drawer__menu-item--active"
                          aria-current="page"
                          >About Us</a
                        >
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </details>
        </header-drawer>

        <a href="/" class="header__heading-link link link--text focus-inset">
          <div class="header__heading-logo-wrapper">
            <img
              src="../toffee2.png"
              alt="My Store"
              width="108"
              height="120.58"
              loading="eager"
              class="header__heading-logo motion-reduce"
            />
          </div>
        </a>

        <nav class="header__inline-menu">
          <ul class="list-menu list-menu--inline" role="list">
            <li>
                <a
                id="HeaderMenu-all-products"
                href="/index.html"
                class="header__menu-item list-menu__item link link--text focus-inset"
                aria-current="page"
              >
                <span class="header__active-menu-item">All products</span>
              </a>
            </li>
            <li>
              <a
                id="HeaderMenu-about-us"
                href="about-us.html"
                class="header__menu-item list-menu__item link link--text focus-inset"
                aria-current="page"
              >
                <span class="header__active-menu-item">About us</span>
              </a>
            </li>
          </ul>
        </nav>

        <div
          class="header__icons header__icons--localization header-localization"
        >
          <div class="desktop-localization-wrapper"></div>
          <a
            id="account-link"
            href="login.html"
            style="text-decoration: none; color: inherit"
          >
            <span
              class="header__icon header__icon--account link focus-inset small-hide"
              aria-hidden="true"
            >
              <account-icon>
                <span class="svg-wrapper">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    class="icon icon-account"
                    viewBox="0 0 18 19"
                    style="width: 2.6rem; height: 2.6rem"
                  >
                    <path
                      fill="currentColor"
                      fill-rule="evenodd"
                      d="M6 4.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8m5.58 12.15c1.12.82 1.83 2.24 1.91 4.85H1.51c.08-2.6.79-4.03 1.9-4.85C4.66 11.75 6.5 11.5 9 11.5s4.35.26 5.58 1.15M9 10.5c-2.5 0-4.65.24-6.17 1.35C1.27 12.98.5 14.93.5 18v.5h17V18c0-3.07-.77-5.02-2.33-6.15-1.52-1.1-3.67-1.35-6.17-1.35"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </span>
              </account-icon>
              <span class="visually-hidden">Log in</span>
            </span>
          </a>
          <script>
            (function () {
              function getUser() {
                try {
                  const raw = localStorage.getItem("user");
                  return raw ? JSON.parse(raw) : null;
                } catch (e) {
                  return null;
                }
              }
              function clearSession() {
                try {
                  const old = localStorage.getItem("user");
                  localStorage.removeItem("user");
                  try {
                    sessionStorage.removeItem("user");
                  } catch (e) {}
                  try {
                    window.dispatchEvent(
                      new StorageEvent("storage", {
                        key: "user",
                        oldValue: old,
                        newValue: null,
                      }),
                    );
                  } catch (e) {}
                } catch (e) {}
                window.location.href = "login.html";
              }
              document.addEventListener("DOMContentLoaded", function () {
                var a = document.getElementById("account-link");
                if (!a) return;
                var user = getUser();
                if (!user) return;
                a.href = "dashboard.html";
                var vis = a.querySelector(".visually-hidden");
                if (vis)
                  vis.textContent =
                    "Account: " + (user.name || user.phone || "Account");
                var span = document.createElement("span");
                span.textContent = "Logout";
                span.style.cursor = "pointer";
                span.style.marginLeft = "8px";
                span.className = "header-logout-link";
                span.addEventListener("click", function (e) {
                  e.preventDefault();
                  clearSession();
                });
                a.parentNode.insertBefore(span, a.nextSibling);
              });
            })();
          </script>
          <script src="./auth.js"></script>
          <span
            class="header__icon header__icon--cart link focus-inset"
            id="cart-icon-bubble"
            aria-hidden="true"
          >
            <span class="svg-wrapper">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                class="icon icon-cart"
                viewBox="0 0 40 40"
                style="width: 2.6rem; height: 2.6rem"
              >
                <path
                  fill="currentColor"
                  fill-rule="evenodd"
                  d="M20.5 6.5a4.75 4.75 0 0 0-4.75 4.75v.56h-3.16l-.77 11.6a5 5 0 0 0 4.99 5.34h7.38a5 5 0 0 0 4.99-5.33l-.77-11.6h-3.16v-.57A4.75 4.75 0 0 0 20.5 6.5m3.75 5.31v-.56a3.75 3.75 0 1 0-7.5 0v.56zm-7.5 1h7.5v.56a3.75 3.75 0 1 1-7.5 0zm-1 0v.56a4.75 4.75 0 1 0 9.5 0v-.56h2.22l.71 10.67a4 4 0 0 1-3.99 4.27h-7.38a4 4 0 0 1-4-4.27l.72-10.67z"
                ></path>
              </svg>
            </span>
            <span class="visually-hidden">Cart</span>
            <div class="cart-count-bubble">
              <span aria-hidden="true">1</span>
              <span class="visually-hidden">1 item</span>
            </div>
          </span>
        </div>
      </header>
    </sticky-header>
    <script>
      (function () {
        function normalizeAllProductsLinks() {
          try {
            document
              .querySelectorAll('a[href^="/collections/all-products"]')
              .forEach(function (a) {
                a.setAttribute("href", "/index.html");
                a.setAttribute("data-updated-by", "link-normalizer");
              });
          } catch (e) {
            /* swallow */
          }
        }
        if (document.readyState === "loading") {
          document.addEventListener(
            "DOMContentLoaded",
            normalizeAllProductsLinks,
          );
        } else {
          normalizeAllProductsLinks();
        }
      })();
    </script>
  </body>
</html>
